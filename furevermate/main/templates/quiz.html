{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compatibility Quiz - Furever Mate</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'quiz.css' %}">
</head>
<body>
    <!-- Header -->
    <header class="quiz-header text-center text-white py-5 bg-primary">
        <h1 class="display-4 fw-bold">Compatibility Quiz</h1>
        <p class="lead">Answer these simple questions to find your perfect furry companion.</p>
    </header>

    <!-- Main Content -->
    <main class="quiz-container d-flex align-items-center justify-content-center py-5">
        <div class="quiz-form-container bg-white shadow-lg p-5 rounded">
            <h2 class="text-center text-primary mb-4">Take the Quiz</h2>
            <form id="quiz-form" method="POST" action="{% url 'quiz_submit' %}">
                {% csrf_token %}
                
                <!-- Progress Indicator -->
                <div class="progress mb-4">
                    <div class="progress-bar bg-warning progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;" id="progress-bar">
                        <span class="fw-bold">0% Complete</span>
                    </div>
                </div>

                <!-- Question 1 -->
                <div class="mb-4">
                    <label for="time_dedication" class="form-label">1. How much time can you dedicate to your dog daily?</label>
                    <select class="form-select" id="time_dedication" name="time_dedication" required>
                        <option value="" disabled selected>Select an option</option>
                        <option value="1-2 hours">1-2 hours</option>
                        <option value="3-4 hours">3-4 hours</option>
                        <option value="5+ hours">5+ hours</option>
                    </select>
                </div>
                
                <!-- Question 2 -->
                <div class="mb-4">
                    <label for="living_space" class="form-label">2. What type of living space do you have?</label>
                    <select class="form-select" id="living_space" name="living_space" required>
                        <option value="" disabled selected>Select an option</option>
                        <option value="Apartment">Apartment</option>
                        <option value="House with small yard">House with small yard</option>
                        <option value="House with large yard">House with large yard</option>
                    </select>
                </div>
                
                <!-- Question 3 -->
                <div class="mb-4">
                    <label for="grooming" class="form-label">3. Are you comfortable with a dog that requires regular grooming?</label>
                    <select class="form-select" id="grooming" name="grooming" required>
                        <option value="" disabled selected>Select an option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                
                <!-- Question 4 -->
                <div class="mb-4">
                    <label for="children" class="form-label">4. Do you have children at home?</label>
                    <select class="form-select" id="children" name="children" required>
                        <option value="" disabled selected>Select an option</option>
                        <option value="Yes, under 10 years old">Yes, under 10 years old</option>
                        <option value="Yes, 10+ years old">Yes, 10+ years old</option>
                        <option value="No">No</option>
                    </select>
                </div>
                
                <!-- Question 5 -->
                <div class="mb-4">
                    <label for="activity_level" class="form-label">5. How active is your lifestyle?</label>
                    <select class="form-select" id="activity_level" name="activity_level" required>
                        <option value="" disabled selected>Select an option</option>
                        <option value="Very active">Very active</option>
                        <option value="Moderately active">Moderately active</option>
                        <option value="Not very active">Not very active</option>
                    </select>
                </div>

                <!-- Question 6 -->
                <div class="mb-4">
                    <label for="dog_size" class="form-label">6. What size of dog do you prefer?</label>
                    <select class="form-select" id="dog_size" name="dog_size" required>
                        <option value="" disabled selected>Select an option</option>
                        <option value="Small">Small</option>
                        <option value="Medium">Medium</option>
                        <option value="Large">Large</option>
                    </select>
                </div>

                <!-- Submit Button -->
                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-warning btn-lg rounded-pill shadow">Submit Quiz</button>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        &copy; 2024 Furever Mate. All rights reserved.
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
        const form = document.getElementById("quiz-form");
        const progressBar = document.getElementById("progress-bar");
        const formInputs = form.querySelectorAll("select");

        formInputs.forEach((input, index) => {
            input.addEventListener("change", () => {
                const completed = ((index + 1) / formInputs.length) * 100;
                progressBar.style.width = completed + "%";
                progressBar.textContent = Math.round(completed) + "% Complete";
            });
        });
    </script>
</body>
</html>
